# making_improved_koujiDB

国土交通省が発表する地価公示の情報をRで使いやすくするデータを作成するためのスクリプトです。
このスクリプトは、次の二つのデータを加工して、一つの使いやすいデータを作成するものでです。

このスクリプトを使うために準備すべきデータは以下のものです。

## R用の地価公示データベースの基礎

https://github.com/rea-osaka/kouji_db_base

国土交通省が公表する[国土数値情報のデータ](http://nlftp.mlit.go.jp/ksj/index.html)
を読み込んで、使いやすいように整理し、Rのデータとするためのスクリプトを紹介したものです。


## 総務省の全国地方公共団体コードのRデータ

https://github.com/rea-osaka/address_db

総務省の[Webページ](http://www.soumu.go.jp/denshijiti/code.html)
で公開されている全国地方公共団体コードをRデータとして取り込むスクリプトを紹介したものです。


## 作成されるデータ

国土数値情報のページで公開されている地価公示データは、
昭和58年以降のもであり、2019年のものまでで、
延べ約92万ポイントの標準地データが含まれています。

ここで作成されたデータには、継続する同一標準地毎に`std_id`列に同じid番号をつけることで、
同一標準地検索を簡単に行う事が出来るようにしています。
また、地方公共団体コードに対応した、
「都道府県」列と「市区町村」列をつけて、都道府県名や市町村名による文字列検索が
簡単にできるようなっています。

## 作成スクリプトの使い方

スクリプト内では、上記２つのページで紹介したRデータファイルを
"rdata/"ディレクトリに準備し、そのファイルをloadしている部分があるので、
自分の環境上でのファイル名や変数名をチェックして、調整してください。

全年度のデータ処理を行う場合、１時間弱ほどの時間がかかります。
進捗状況は、各年度ごとの処理状況が標準出力にされますが、
１年の処理に30秒から80秒ほどかかるようです。





